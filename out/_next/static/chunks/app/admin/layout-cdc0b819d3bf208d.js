(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{9806:function(e,t,r){Promise.resolve().then(r.bind(r,7885)),Promise.resolve().then(r.bind(r,849))},7885:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return i},a:function(){return u}});var o=r(7437),n=r(2265),s=r(9116);let a=(0,n.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,n.useState)(!1),[u,c]=(0,n.useState)(null);return(0,n.useEffect)(()=>{s.Z.getToken()&&(async()=>{try{let e=await s.Z.getCurrentUser();c(e.user),i(!0)}catch(e){console.error("Failed to fetch current user:",e),s.Z.setToken(null),c(null),i(!1)}})()},[]),(0,o.jsx)(a.Provider,{value:{isAuthenticated:r,login:e=>{c(e),i(!0)},logout:()=>{s.Z.setToken(null),c(null),i(!1)},user:u},children:t})}function u(){let e=(0,n.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},849:function(e,t,r){"use strict";r.d(t,{Toaster:function(){return N}});var o=r(7437),n=r(2265);let s=0,a=new Map,i=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},u=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],l={toasts:[]};function d(e){l=u(l,e),c.forEach(e=>{e(l)})}function m(e){let{...t}=e,r=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),o=()=>d({type:"DISMISS_TOAST",toastId:r});return d({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||o()}}}),{id:r,dismiss:o,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:r}})}}var p=r(1915),f=r(535),h=r(2489),g=r(4508);let v=p.zt,T=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,o.jsx)(p.l_,{ref:t,className:(0,g.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",r),...n})});T.displayName=p.l_.displayName;let b=(0,f.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),y=n.forwardRef((e,t)=>{let{className:r,variant:n,...s}=e;return(0,o.jsx)(p.fC,{ref:t,className:(0,g.cn)(b({variant:n}),r),...s})});y.displayName=p.fC.displayName,n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,o.jsx)(p.aU,{ref:t,className:(0,g.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",r),...n})}).displayName=p.aU.displayName;let E=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,o.jsx)(p.x8,{ref:t,className:(0,g.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),"toast-close":"",...n,children:(0,o.jsx)(h.Z,{className:"h-4 w-4"})})});E.displayName=p.x8.displayName;let S=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,o.jsx)(p.Dx,{ref:t,className:(0,g.cn)("text-sm font-semibold",r),...n})});S.displayName=p.Dx.displayName;let x=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,o.jsx)(p.dk,{ref:t,className:(0,g.cn)("text-sm opacity-90",r),...n})});function N(){let{toasts:e}=function(){let[e,t]=n.useState(l);return n.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}();return(0,o.jsxs)(v,{children:[e.map(function(e){let{id:t,title:r,description:n,action:s,...a}=e;return(0,o.jsxs)(y,{...a,children:[(0,o.jsxs)("div",{className:"grid gap-1",children:[r&&(0,o.jsx)(S,{children:r}),n&&(0,o.jsx)(x,{children:n})]}),s,(0,o.jsx)(E,{})]},t)}),(0,o.jsx)(T,{})]})}x.displayName=p.dk.displayName},9116:function(e,t,r){"use strict";let o=r(257).env.BACKEND_URL||"https://cultural-backend-7gfl.onrender.com";console.log("Resolved API_BASE_URL:",o);class n{setToken(e){this.token=e,e?localStorage.setItem("token",e):localStorage.removeItem("token")}getToken(){return this.token}async request(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="".concat(o).concat(e);console.log("API Request URL:",n);let s={headers:{"Content-Type":"application/json",...r.headers},...r};this.token&&(s.headers.Authorization="Bearer ".concat(this.token)),r.body instanceof FormData&&delete s.headers["Content-Type"];try{t=await fetch(n,s)}catch(e){throw console.error("Network error during API request: Load failed",e),Error("Network error: Could not connect to the API server.")}let a=await t.json();if(!t.ok)throw Error(a.message||"API request failed with status ".concat(t.status));return a}async login(e,t){let r=await this.request("/api/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})});return r.token&&this.setToken(r.token),r}async getCurrentUser(){return this.request("/api/auth/me")}async getEvents(){return console.log("Fetching events..."),this.request("/api/events")}async getEventById(e){return this.request("/api/events/".concat(e))}async createEvent(e){return this.request("/api/events",{method:"POST",body:JSON.stringify(e)})}async updateEvent(e,t){return this.request("/api/events/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteEvent(e){return this.request("/api/events/".concat(e),{method:"DELETE"})}async getAdminEvents(){return this.request("/api/events/admin/events")}async getCommitteeMembers(){return this.request("/api/committee")}async getCommitteeMemberById(e){return this.request("/api/committee/".concat(e))}async createCommitteeMember(e){return this.request("/api/committee",{method:"POST",body:JSON.stringify(e)})}async updateCommitteeMember(e,t){return this.request("/api/committee/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteCommitteeMember(e){return this.request("/api/committee/".concat(e),{method:"DELETE"})}async uploadFile(e){let t=new FormData;return t.append("file",e),this.request("/api/upload",{method:"POST",body:t,headers:{}})}async getStaticContent(){try{return await this.request("/api/static-content")}catch(e){if(e.message.includes("404")||e.message.includes("not found"))return console.warn("Static content not found on backend, returning default."),this.getDefaultStaticContent();throw e}}async updateStaticContent(e){return console.log("Simulating static content update:",e),await this.request("/api/static-content",{method:"PUT",body:JSON.stringify(e)})}getDefaultStaticContent(){return{festivalName:"VARNAVE'25",festivalDates:"September 12-13, 2025",festivalLocation:"Coimbatore",heroSubtitle:"Cultural Festival • September 12-13, 2025 • Coimbatore",stats:{eventsCount:"20+",eventsLabel:"Events",celebrationDuration:"3 Days",celebrationLabel:"Celebration",participantsCount:"5000+",participantsLabel:"Participants"},aboutTitle:"ABOUT VARNAVE'25",aboutDescription:"Varnave'25 is the premier cultural festival celebrating the rich heritage of Tamil arts, cinema, music, and performing arts. Join us for three days of extraordinary performances, competitions, and cultural immersion in the heart of Coimbatore.",aboutFeatures:[{title:"3 DAYS",subtitle:"OF CELEBRATION",description:"Non-stop entertainment with 30+ events across multiple categories",gradient:"from-blue-500 to-purple-500"},{title:"₹1 LAKH+",subtitle:"PRIZE MONEY",description:"Exciting cash prizes and recognition for winners",gradient:"from-orange-500 to-yellow-500"},{title:"5000+",subtitle:"PARTICIPANTS",description:"Students from across Tamil Nadu and beyond",gradient:"from-pink-500 to-red-500"}],eventsTitle:"EVENTS & COMPETITIONS",registerTitle:"REGISTER NOW",registerDescription:"Secure your spot at the grandest Tamil cultural celebration",registerFormTitle:"EVENT REGISTRATION",registerFormDescription:"Register for events and competitions via Google Forms.",registerButtonText:"REGISTER VIA GOOGLE FORM",registerDisclaimer:"Click the button to proceed to the Google Form for registration.",eventRegistrationFormUrl:"https://forms.gle/YourEventRegistrationFormLink",volunteerTitle:"BE A VOLUNTEER",volunteerDescription:"Join our dedicated team and help make Varnave'25 a grand success!",volunteerFormTitle:"VOLUNTEER REGISTRATION",volunteerFormDescription:"Contribute to the festival and gain valuable experience.",volunteerButtonText:"APPLY TO VOLUNTEER",volunteerDisclaimer:"Applications close September 1, 2025",volunteerRegistrationFormUrl:"https://forms.gle/JEz272bQkz7HEjks6",committeeTitle:"CORE COMMITTEE",committeeDescription:"Meet the dedicated team behind Varnave'25",footerDescription:"The premier Tamil cultural festival celebrating arts, cinema, music, and performing arts.",footerQuickLinks:["About","Events","Register","Volunteer","Contact"],footerEventInfo:{date:"September 12-13, 2025",location:"Coimbatore, Tamil Nadu",phone:"+91 98765 43210"},socialMediaLinks:{instagram:"https://instagram.com",facebook:"https://facebook.com",twitter:"https://twitter.com"},copyrightText:"\xa9 2025 Varnave. All rights reserved."}}constructor(){this.token=localStorage.getItem("token")}}t.Z=new n},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var o=r(1994),n=r(3335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,o.W)(t))}}},function(e){e.O(0,[161,747,915,971,117,744],function(){return e(e.s=9806)}),_N_E=e.O()}]);